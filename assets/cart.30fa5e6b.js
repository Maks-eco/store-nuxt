import{f as C,o as c,c as r,p as y,e as x,a as t,_ as f,r as $,g as L,h as V,t as u,b as h,i,j as E,v as U,d as q,F as B,s as A,k as g,l as D}from"./entry.618ffddf.js";import{u as S}from"./counter.870e668a.js";import{b as M}from"./index.821a9878.js";const R=""+globalThis.__publicAssetsURL("images/trash.svg"),j=s=>(y("data-v-afe5a5a8"),s=s(),x(),s),W=j(()=>t("img",{class:"trash-img",src:R,alt:"product preview"},null,-1)),z=[W],G=C({__name:"TrashIcon",emits:["clickBtn"],setup(s,{emit:n}){return(d,l)=>(c(),r("button",{class:"cart-button",onClick:l[0]||(l[0]=p=>n("clickBtn"))},z))}});const H=f(G,[["__scopeId","data-v-afe5a5a8"]]),I=s=>(y("data-v-bed483ed"),s=s(),x(),s),J={class:"one-product"},K={class:"product__img-contnr"},O=["src"],Q={style:{width:"100%"}},X={class:"product__descr-name"},Y={class:"add-info"},Z={class:"add-info"},tt={class:"active-min"},et={style:{"text-align":"right"},class:"active-min"},st={class:"product__descr"},ot={class:"active-max"},nt=I(()=>t("label",{for:"qty",class:"active-min"},"Кол-во: ",-1)),at=I(()=>t("span",{class:"active-min"},"Всего:",-1)),ct={class:"active-max"},rt=I(()=>t("hr",{class:"under-product"},null,-1)),it=C({__name:"CartProductCard",props:{item:{},brands:{}},setup(s){const n=s,d=S(),l=$(""),p=$(""),k=e=>{var _;const o=(_=n.brands)==null?void 0:_.find(a=>a.id===e);return o?o.title:""},b=e=>{var o;if(e!=null&&e.productFeature){let _="",a="";(o=e.configurable_options)==null||o.forEach(P=>{const F=P.label;P.values.forEach(v=>{var T,w;v.value_index===((T=e.productFeature)==null?void 0:T.attrIndexes[0])&&(_=`${F}: ${v.label}`),v.value_index===((w=e.productFeature)==null?void 0:w.attrIndexes[1])&&(a=`${F}: ${v.label}`)})}),l.value=_,p.value=a}};L(()=>{}),V(()=>{b(n.item)});const m=e=>M.slice(0,-1)+e;return(e,o)=>{const _=H;return c(),r(B,null,[t("div",J,[t("div",K,[t("img",{class:"product__one-img",src:m(e.item.image),alt:"product preview"},null,8,O),t("div",Q,[t("div",null,[t("p",X,u(k(e.item.brand))+" / "+u(e.item.title),1),t("p",Y,u(l.value),1),t("p",Z,u(p.value),1)]),t("p",tt,"$"+u(e.item.regular_price.value.toFixed(2)),1),t("div",et,[h(_,{onClickBtn:o[0]||(o[0]=a=>i(d).deleteCartProduct(e.item))})])])]),t("div",st,[t("p",ot,"$"+u(e.item.regular_price.value.toFixed(2)),1),t("div",null,[nt,E(t("input",{type:"number",class:"quantity",name:"qty",min:"1",max:"999","onUpdate:modelValue":o[1]||(o[1]=a=>e.item.count=a),onChange:o[2]||(o[2]=a=>i(d).updateProductCount(e.item))},null,544),[[U,e.item.count]])]),t("p",null,[at,q(" $"+u((e.item.regular_price.value*e.item.count).toFixed(2)),1)]),t("div",ct,[h(_,{onClickBtn:o[3]||(o[3]=a=>i(d).deleteCartProduct(e.item))})])])]),rt],64)}}});const dt=f(it,[["__scopeId","data-v-bed483ed"]]),N=s=>(y("data-v-c0544707"),s=s(),x(),s),lt={key:0,class:"product-contnr active-max"},_t=N(()=>t("div",{class:"one-product",style:{height:"60px",fontWeight:"bold"}},[t("div"),t("div",{class:"product__descr"},[t("p",null,"Цена"),t("p",null,"Кол-во"),t("p",null,"Всего")])],-1)),ut=N(()=>t("hr",{class:"under-product"},null,-1)),pt=[_t,ut],mt={key:1,class:"total-cost"},vt={key:2,class:"empty-cart-msg"},ht=C({__name:"CartProductList",setup(s){const n=S(),{storageProduct:d}=A(n),l=$(null);return L(()=>{}),V(()=>{n.getCategories().then(p=>{l.value=[...p]})}),(p,k)=>{const b=dt;return c(),r("div",null,[i(n).finalCost>0?(c(),r("div",lt,pt)):g("",!0),(c(!0),r(B,null,D(i(d),m=>(c(),r("div",{class:"product-contnr",key:m.id},[h(b,{item:m,brands:i(l)},null,8,["item","brands"])]))),128)),i(n).finalCost>0?(c(),r("h2",mt," Итог: $"+u(i(n).finalCost.toFixed(2)),1)):g("",!0),i(n).finalCost===0?(c(),r("h2",vt,"Корзина пуста")):g("",!0)])}}});const ft=f(ht,[["__scopeId","data-v-c0544707"]]),bt={};function gt(s,n){const d=ft;return c(),r("div",null,[h(d)])}const xt=f(bt,[["render",gt]]);export{xt as default};
