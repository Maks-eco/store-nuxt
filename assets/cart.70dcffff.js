import{f as C,o as r,c as i,p as y,e as x,a as t,_ as g,r as b,g as w,h as E,t as l,b as h,i as _,j as U,v as q,d as A,F as L,s as D,k as $,l as M}from"./entry.41fde23b.js";import{u as V}from"./counter.3de898ec.js";import{b as R}from"./index.821a9878.js";const j=""+globalThis.__publicAssetsURL("images/trash.png"),W=s=>(y("data-v-8fd1b1f1"),s=s(),x(),s),z=W(()=>t("img",{class:"trash-img",src:j,alt:"product preview"},null,-1)),G=[z],H=C({__name:"TrashIcon",emits:["clickBtn"],setup(s,{emit:n}){return(a,u)=>(r(),i("button",{class:"cart-button",onClick:u[0]||(u[0]=p=>n("clickBtn"))},G))}});const J=g(H,[["__scopeId","data-v-8fd1b1f1"]]),I=s=>(y("data-v-39f48e3a"),s=s(),x(),s),K={class:"one-product"},O={class:"product__img-contnr"},Q=["src"],X={style:{width:"100%"}},Y={class:"product__descr-name"},Z={class:"add-info"},tt={class:"add-info"},et={class:"active-min"},st={style:{"text-align":"right"},class:"active-min"},ot={class:"product__descr"},nt={class:"active-max"},at=I(()=>t("label",{for:"qty",class:"active-min"},"Кол-во: ",-1)),ct=I(()=>t("span",{class:"active-min"},"Всего:",-1)),rt={class:"active-max"},it=I(()=>t("hr",{class:"under-product"},null,-1)),dt=C({__name:"CartProductCard",props:{item:{}},setup(s){const n=s,a=V(),u=b(null),p=b(""),m=b(""),v=e=>{var d;const o=(d=u.value)==null?void 0:d.find(c=>c.id===e);return o?o.title:""},S=e=>{var o;if(e!=null&&e.productFeature){let d="",c="";(o=e.configurable_options)==null||o.forEach(k=>{const P=k.label;k.values.forEach(f=>{var F,T;f.value_index===((F=e.productFeature)==null?void 0:F.attrIndexes[0])&&(d=`${P}: ${f.label}`),f.value_index===((T=e.productFeature)==null?void 0:T.attrIndexes[1])&&(c=`${P}: ${f.label}`)})}),p.value=d,m.value=c}};w(()=>{}),E(()=>{a.getCategories().then(e=>{u.value=[...e]}),S(n.item)});const N=e=>R.slice(0,-1)+e;return(e,o)=>{const d=J;return r(),i(L,null,[t("div",K,[t("div",O,[t("img",{class:"product__one-img",src:N(e.item.image),alt:"product preview"},null,8,Q),t("div",X,[t("div",null,[t("p",Y,l(v(e.item.brand))+" / "+l(e.item.title),1),t("p",Z,l(p.value),1),t("p",tt,l(m.value),1)]),t("p",et,"$"+l(e.item.regular_price.value.toFixed(2)),1),t("div",st,[h(d,{onClickBtn:o[0]||(o[0]=c=>_(a).deleteCartProduct(e.item))})])])]),t("div",ot,[t("p",nt,"$"+l(e.item.regular_price.value.toFixed(2)),1),t("div",null,[at,U(t("input",{type:"number",class:"quantity",name:"qty",min:"1",max:"999","onUpdate:modelValue":o[1]||(o[1]=c=>e.item.count=c),onChange:o[2]||(o[2]=c=>_(a).updateProductCount(e.item))},null,544),[[q,e.item.count]])]),t("p",null,[ct,A(" $"+l((e.item.regular_price.value*e.item.count).toFixed(2)),1)]),t("div",rt,[h(d,{onClickBtn:o[3]||(o[3]=c=>_(a).deleteCartProduct(e.item))})])])]),it],64)}}});const lt=g(dt,[["__scopeId","data-v-39f48e3a"]]),B=s=>(y("data-v-11a115bd"),s=s(),x(),s),_t={key:0,class:"product-contnr active-max"},ut=B(()=>t("div",{class:"one-product",style:{height:"60px",fontWeight:"bold"}},[t("div"),t("div",{class:"product__descr"},[t("p",null,"Цена"),t("p",null,"Кол-во"),t("p",null,"Всего")])],-1)),pt=B(()=>t("hr",{class:"under-product"},null,-1)),mt=[ut,pt],vt={key:1,class:"total-cost"},ft={key:2,class:"empty-cart-msg"},ht=C({__name:"CartProductList",setup(s){const n=V(),{storageProduct:a}=D(n);return w(()=>{}),(u,p)=>{const m=lt;return r(),i("div",null,[_(n).finalCost>0?(r(),i("div",_t,mt)):$("",!0),(r(!0),i(L,null,M(_(a),v=>(r(),i("div",{class:"product-contnr",key:v.id},[h(m,{item:v},null,8,["item"])]))),128)),_(n).finalCost>0?(r(),i("h2",vt," Итог: $"+l(_(n).finalCost.toFixed(2)),1)):$("",!0),_(n).finalCost===0?(r(),i("h2",ft,"Корзина пуста")):$("",!0)])}}});const gt=g(ht,[["__scopeId","data-v-11a115bd"]]),bt={};function $t(s,n){const a=gt;return r(),i("div",null,[h(a)])}const It=g(bt,[["render",$t]]);export{It as default};
