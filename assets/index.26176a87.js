import{f as B,g,r as v,s as b,h as x,o as i,c as l,a as s,F as y,i as C,n as L,t as h,p as $,e as I,_ as p,j as S,k as j,b as m}from"./entry.8c109c1f.js";const P=B("store_items",{state:()=>({count:11,name:"Test value",currentBrand:null}),actions:{async getProducts(){return await fetch("products.json").then(e=>e.json()).then(e=>e)},async getCategories(){return await fetch("brands.json").then(e=>e.json()).then(e=>e)}}}),k=e=>($("data-v-2b4f2322"),e=e(),I(),e),w={class:"container"},E={class:"list"},D=k(()=>s("h2",{class:"header"},"Категории:",-1)),F=["onClick"],N={class:"title"},R=k(()=>s("hr",null,null,-1)),T=g({__name:"CategoryList",setup(e){const n={id:-1,title:"All brands",code:"brand_all",sort:"0",active:!1},t=v(null),a=P(),{currentBrand:c}=b(a);v(!1);const d=_=>{var o,f;c.value=_;const r=(o=t.value)==null?void 0:o.findIndex(u=>u.id===_);(f=t.value)==null||f.forEach(u=>(u.active=!1,u)),typeof r<"u"&&t.value&&(t.value[r].active=!0)};return x(()=>{a.getCategories().then(_=>{_=_.map(r=>(r.active=!1,r)),t.value=[n,..._]})}),(_,r)=>(i(),l("div",w,[s("div",E,[D,(i(!0),l(y,null,C(t.value,o=>(i(),l("div",{class:L([{"brand-active":o.active},"brand"]),key:o.id,onClick:f=>d(o.id)},[s("p",N,h(o.title),1)],10,F))),128))]),R]))}});const U=p(T,[["__scopeId","data-v-2b4f2322"]]),V=e=>($("data-v-a1e1ed01"),e=e(),I(),e),z={class:"container-item"},A=["src"],M={class:"description"},q={class:"title"},G={class:"price"},H=V(()=>s("div",{class:"btn-con"},[s("button",{class:"button"},"Добавить в корзину")],-1)),J=g({__name:"ProductCard",props:{item:{}},setup(e){const n=e,t=S(),a=c=>t.public.baseUrl.slice(0,-1)+c;return(c,d)=>(i(),l("div",z,[s("img",{class:"image",src:a(n.item.image),alt:""},null,8,A),s("div",M,[s("div",q,h(n.item.title),1),s("div",G,h(n.item.regular_price.value),1)]),H]))}});const K=p(J,[["__scopeId","data-v-a1e1ed01"]]),O={class:"container"},Q=g({__name:"ProductList",setup(e){const n=v(null),t=v(null),a=P(),{currentBrand:c}=b(a);return j(()=>{if(c.value){if(t.value&&c.value===-1){n.value=[...t.value];return}t.value&&(n.value=t.value.filter(d=>d.brand==c.value))}else t.value&&(n.value=[...t.value])}),x(()=>{a.getProducts().then(d=>{t.value=[...d]})}),(d,_)=>{const r=K;return i(),l("div",O,[(i(!0),l(y,null,C(n.value,o=>(i(),l("div",{key:o.id},[s("div",null,[m(r,{item:o},null,8,["item"])])]))),128))])}}});const W=p(Q,[["__scopeId","data-v-3428bf17"]]);const X={},Y={class:"container"},Z={class:"sidebar"},ee={class:"content"};function te(e,n){const t=U,a=W;return i(),l("div",Y,[s("div",Z,[m(t)]),s("div",ee,[m(a)])])}const ne=p(X,[["render",te],["__scopeId","data-v-ebbaf9d2"]]);export{ne as default};
