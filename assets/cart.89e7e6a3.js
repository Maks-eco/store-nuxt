import{f as $,o as l,g as F,V as W,_ as C,r as x,h as P,i as q,j as T,k as S,l as D,c as _,a as e,t as u,b as m,m as a,n as G,d as R,F as L,p as N,e as E,s as B,q as g,w as j,v as z,T as H,x as J}from"./entry.5e56b12a.js";import{u as A,s as K}from"./brands.e6c00158.js";const O=$({__name:"TrashIcon",emits:["clickBtn"],setup(n,{emit:c}){return(o,i)=>(l(),F(W,{icon:"mdi-trash-can-outline",onClick:i[0]||(i[0]=p=>c("clickBtn"))}))}});const Q=C(O,[["__scopeId","data-v-8ba5fa25"]]),M=n=>(N("data-v-1931de7f"),n=n(),E(),n),X={class:"one-product"},Y={class:"product__img-contnr"},Z=["src"],tt={style:{width:"100%"}},et={class:"global-font-classic font-weight-bold text-subtitle-1"},st={class:"global-font-classic text-caption"},nt={class:"global-font-classic text-caption"},ot={class:"active-min global-font-classic text-subtitle-1"},at={style:{"text-align":"right"},class:"active-min"},ct={class:"product__descr"},it={class:"active-max global-font-classic text-subtitle-1"},rt={class:"global-font-classic font-weight-bold text-subtitle-1"},lt=M(()=>e("span",{class:"active-min"},"Всего:",-1)),dt={class:"active-max"},ut=M(()=>e("div",{class:"under-product"},null,-1)),_t=$({__name:"ProductCard",props:{item:{},brands:{}},setup(n){const c=n,o=A(),i=x(""),p=x(""),f=P({number:c.item.count}),v=t=>{var d;const s=(d=c.brands)==null?void 0:d.find(r=>r.id===t);return s?s.title:""},y=t=>{var s;if(t!=null&&t.productFeature){let d="",r="";(s=t.configurable_options)==null||s.forEach(V=>{const k=V.label;V.values.forEach(b=>{var w,I;b.value_index===((w=t.productFeature)==null?void 0:w.attrIndexes[0])&&(d=`${k}: ${b.label}`),b.value_index===((I=t.productFeature)==null?void 0:I.attrIndexes[1])&&(r=`${k}: ${b.label}`)})}),i.value=d,p.value=r}};q(()=>{}),T(c,t=>{S.to(f,{duration:.5,number:Number(t.item.count)||0})},{deep:!0}),D(()=>{y(c.item)});const h=t=>(t=`https://raw.githubusercontent.com/fe-side/vue-test/master/assets${t}`,t);return(t,s)=>{const d=Q;return l(),_(L,null,[e("div",X,[e("div",Y,[e("img",{class:"product__one-img",src:h(t.item.image),alt:"product preview"},null,8,Z),e("div",tt,[e("div",null,[e("p",et,u(v(t.item.brand))+" / "+u(t.item.title),1),e("p",st,u(i.value),1),e("p",nt,u(p.value),1)]),e("p",ot," $"+u(t.item.regular_price.value.toFixed(2)),1),e("div",at,[m(d,{onClickBtn:s[0]||(s[0]=r=>a(o).deleteCartProduct(t.item))})])])]),e("div",ct,[e("p",it," $"+u(t.item.regular_price.value.toFixed(2)),1),e("div",null,[m(G,{min:"1",max:"999",type:"number",name:"input-10-2",label:"Кол-во",variant:"outlined",modelValue:t.item.count,"onUpdate:modelValue":s[1]||(s[1]=r=>t.item.count=r),"hide-details":"",onChange:s[2]||(s[2]=r=>a(o).updateProductCount(t.item))},null,8,["modelValue"])]),e("p",rt,[lt,R(" $"+u((t.item.regular_price.value*a(f).number).toFixed(2)),1)]),e("div",dt,[m(d,{onClickBtn:s[3]||(s[3]=r=>a(o).deleteCartProduct(t.item))})])])]),ut],64)}}});const pt=C(_t,[["__scopeId","data-v-1931de7f"]]),U=n=>(N("data-v-abf65925"),n=n(),E(),n),mt={key:0,class:"product-contnr active-max"},ft=U(()=>e("div",{class:"one-product",style:{height:"60px",fontWeight:"bold"}},[e("div"),e("div",{class:"product__descr"},[e("p",null,"Цена"),e("p",null,"Кол-во"),e("p",null,"Всего")])],-1)),vt=U(()=>e("div",{class:"under-product"},null,-1)),bt=[ft,vt],ht={key:1,class:"total-cost"},gt={key:2,class:"empty-cart-msg"},xt=$({__name:"ProductList",setup(n){const c=x(K),o=A(),{storageProduct:i}=B(o),{finalCost:p}=B(o),f=P({number:p.value});return T(p,v=>{S.to(f,{duration:.5,number:Number(v)||0})}),(v,y)=>{const h=pt;return l(),_("div",null,[a(o).finalCost>0?(l(),_("div",mt,bt)):g("",!0),m(H,{name:"list"},{default:j(()=>[(l(!0),_(L,null,z(a(i),t=>(l(),_("div",{class:"product-contnr",key:t.id},[m(h,{item:t,brands:a(c)?a(c):null},null,8,["item","brands"])]))),128))]),_:1}),a(o).finalCost>0?(l(),_("h2",ht," Итог: $"+u(a(f).number.toFixed(2)),1)):g("",!0),a(o).finalCost===0?(l(),_("h2",gt,"Корзина пуста")):g("",!0)])}}});const $t=C(xt,[["__scopeId","data-v-abf65925"]]),Vt={__name:"cart",setup(n){return(c,o)=>{const i=$t;return l(),F(J,{class:"d-flex justify-center align-center pl-sm-none",style:{"min-height":"300px"}},{default:j(()=>[m(i)]),_:1})}}};export{Vt as default};
