import{u as x}from"./counter.c57ff0c3.js";import{f as y,r as u,s as $,m as B,h as k,o as l,c as r,a as t,F as h,j as I,n as C,t as g,p as L,e as S,_ as p,i as E,g as N,k as V,b}from"./entry.c9ebe03f.js";import{b as w}from"./index.00dd2f7f.js";const P=i=>(L("data-v-d9822fcd"),i=i(),S(),i),D={class:"list"},F=P(()=>t("h2",{class:"header"},"Категории:",-1)),M=["onClick"],U={class:"title"},j=P(()=>t("hr",{class:"hr"},null,-1)),z=y({__name:"CategoryList",setup(i){const s={id:-1,title:"Все бренды",code:"brand_all",sort:"0",active:!1},e=u(null),c=x(),{currentBrand:_}=$(c);u(!1);const n=u(!1),f=d=>{var o,m;n.value=!n.value,_.value=d;const a=(o=e.value)==null?void 0:o.findIndex(v=>v.id===d);(m=e.value)==null||m.forEach(v=>(v.active=!1,v)),typeof a<"u"&&e.value&&(e.value[a].active=!0)};return B(()=>{}),k(()=>{c.getCategories().then(d=>{e.value=[s,...d],e.value=e.value.map(a=>(a.active=_.value===a.id,a))})}),(d,a)=>(l(),r("div",{class:C([{"container-inactive":!n.value},"container"])},[t("div",D,[F,(l(!0),r(h,null,I(e.value,o=>(l(),r("div",{class:C([{"brand-active":o.active},"brand"]),key:o.id,onClick:m=>f(o.id)},[t("p",U,g(o.title),1)],10,M))),128))]),j,t("button",{class:"hide-categories",onClick:a[0]||(a[0]=o=>n.value=!n.value)}," Категории ")],2))}});const R=p(z,[["__scopeId","data-v-d9822fcd"]]),T={class:"container-item"},q=["src"],A={class:"description"},G={class:"title"},H={class:"price"},J={class:"btn-con"},K=y({__name:"ProductCard",props:{item:{}},setup(i){const s=i,e=x(),c=_=>w.slice(0,-1)+_;return(_,n)=>(l(),r("div",T,[t("img",{class:"image",src:c(s.item.image),alt:""},null,8,q),t("div",A,[t("div",G,g(s.item.title),1),t("div",H,g(s.item.regular_price.value),1)]),t("div",J,[t("button",{class:"button",onClick:n[0]||(n[0]=f=>E(e).saveProduct(s.item))}," Добавить в корзину ")])]))}});const O=p(K,[["__scopeId","data-v-ba34c8f0"]]),Q={class:"container"},W={key:0,class:"empty-list"},X=y({__name:"ProductList",setup(i){const s=u(null),e=u(null),c=x(),{currentBrand:_}=$(c);return N(()=>{if(_.value){if(e.value&&_.value===-1){s.value=[...e.value];return}e.value&&(s.value=e.value.filter(n=>n.brand==_.value))}else e.value&&(s.value=[...e.value])}),k(()=>{c.getProducts().then(n=>{e.value=[...n]})}),(n,f)=>{var a;const d=O;return l(),r(h,null,[t("div",Q,[(l(!0),r(h,null,I(s.value,o=>(l(),r("div",{key:o.id},[t("div",null,[b(d,{item:o},null,8,["item"])])]))),128))]),((a=s.value)==null?void 0:a.length)===0?(l(),r("h3",W,"Товары отсутствуют")):V("",!0)],64)}}});const Y=p(X,[["__scopeId","data-v-6823d4cb"]]);const Z={},ee={class:"container"},te={class:"sidebar"},se={class:"content"};function ne(i,s){const e=R,c=Y;return l(),r("div",ee,[t("div",te,[b(e)]),t("div",se,[b(c)])])}const _e=p(Z,[["render",ne],["__scopeId","data-v-b9a5d029"]]);export{_e as default};
