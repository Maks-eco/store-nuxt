import{f as L,g,r as v,s as b,h as x,o as r,c as i,a as s,F as y,i as $,n as S,t as h,p as C,e as I,_ as p,j as k,b as m}from"./entry.0a71a2b9.js";const P=L("store_items",{state:()=>({count:11,name:"Test value",currentBrand:null}),actions:{async getProducts(){return await fetch("products.json").then(e=>e.json()).then(e=>e)},async getCategories(){return await fetch("brands.json").then(e=>e.json()).then(e=>e)}}}),B=e=>(C("data-v-2b4f2322"),e=e(),I(),e),j={class:"container"},w={class:"list"},E=B(()=>s("h2",{class:"header"},"Категории:",-1)),D=["onClick"],F={class:"title"},N=B(()=>s("hr",null,null,-1)),T=g({__name:"CategoryList",setup(e){const n={id:-1,title:"All brands",code:"brand_all",sort:"0",active:!1},t=v(null),o=P(),{currentBrand:d}=b(o);v(!1);const l=c=>{var a,f;d.value=c;const _=(a=t.value)==null?void 0:a.findIndex(u=>u.id===c);(f=t.value)==null||f.forEach(u=>(u.active=!1,u)),typeof _<"u"&&t.value&&(t.value[_].active=!0)};return x(()=>{o.getCategories().then(c=>{c=c.map(_=>(_.active=!1,_)),t.value=[n,...c]})}),(c,_)=>(r(),i("div",j,[s("div",w,[E,(r(!0),i(y,null,$(t.value,a=>(r(),i("div",{class:S([{"brand-active":a.active},"brand"]),key:a.id,onClick:f=>l(a.id)},[s("p",F,h(a.title),1)],10,D))),128))]),N]))}});const V=p(T,[["__scopeId","data-v-2b4f2322"]]),z=e=>(C("data-v-3a4ea2f9"),e=e(),I(),e),A={class:"container-item"},M=["src"],R={class:"description"},q={class:"title"},G={class:"price"},H=z(()=>s("div",{class:"btn-con"},[s("button",{class:"button"},"Добавить в корзину")],-1)),J=g({__name:"ProductCard",props:{item:{}},setup(e){const n=e;return(t,o)=>(r(),i("div",A,[s("img",{class:"image",src:n.item.image,alt:""},null,8,M),s("div",R,[s("div",q,h(n.item.title),1),s("div",G,h(n.item.regular_price.value),1)]),H]))}});const K=p(J,[["__scopeId","data-v-3a4ea2f9"]]),O={class:"container"},Q=g({__name:"ProductList",setup(e){const n=v(null),t=v(null),o=P(),{currentBrand:d}=b(o);return k(()=>{if(d.value){if(t.value&&d.value===-1){n.value=[...t.value];return}t.value&&(n.value=t.value.filter(l=>l.brand==d.value))}else t.value&&(n.value=[...t.value])}),x(()=>{o.getProducts().then(l=>{t.value=[...l]})}),(l,c)=>{const _=K;return r(),i("div",O,[(r(!0),i(y,null,$(n.value,a=>(r(),i("div",{key:a.id},[s("div",null,[m(_,{item:a},null,8,["item"])])]))),128))])}}});const U=p(Q,[["__scopeId","data-v-3428bf17"]]);const W={},X={class:"container"},Y={class:"sidebar"},Z={class:"content"};function ee(e,n){const t=V,o=U;return r(),i("div",X,[s("div",Y,[m(t)]),s("div",Z,[m(o)])])}const se=p(W,[["render",ee],["__scopeId","data-v-ebbaf9d2"]]);export{se as default};
