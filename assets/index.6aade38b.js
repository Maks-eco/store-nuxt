import{f as A,o as u,g as $,w as v,b as l,V as T,d as w,t as S,y as M,r as I,l as G,c as g,F as B,v as L,a as P,z as j,m as s,A as O,q as E,_ as F,B as q,C as J,D as H,E as K,G as R,H as Q,I as W,s as X,i as Y,J as Z,T as ee,K as te,L as ae,x as ie}from"./entry.703f6998.js";import{u as N,s as re}from"./brands.a4f5ad4c.js";const ne=A({__name:"AcceptButton",props:{productVariantSelected:{}},emits:["onClickAct"],setup(m,{emit:r}){const e=m;return(_,o)=>(u(),$(M,{class:"py-1"},{default:v(()=>[l(T,{class:"font-weight-bold",color:e.productVariantSelected?"orange":"grey-lighten-1",variant:"text",onClick:o[0]||(o[0]=b=>{e.productVariantSelected&&r("onClickAct",!0)})},{default:v(()=>[w(S(e.productVariantSelected?"Добавить в корзину":"Выберите опции"),1)]),_:1},8,["color"])]),_:1}))}});var d=(m=>(m.Checked="Checked",m.Unchecked="Unchecked",m.Inactive="Inactive",m.Hidden="Hidden",m))(d||{});const ce={key:0,class:"attr-container"},le={class:"variant-line"},ue={class:"line-label"},se=["onClick"],oe={key:1,class:"attr-container"},de=A({__name:"VariantsIcon",props:{item:{}},emits:["updateImage","variantSelected"],setup(m,{emit:r}){const e=m,_=I([]),o=()=>{var i,c,a,t;if(e.item.current_attributes&&((i=e.item)==null?void 0:i.current_attributes.length)===2){const n=(c=e.item)==null?void 0:c.current_attributes[0],p=(a=e.item)==null?void 0:a.current_attributes[1];(t=e.item.variants)==null||t.forEach(h=>{let x=0;if(h.attributes.forEach(f=>{(f.value_index===n.value_index||f.value_index===p.value_index)&&x++}),x===2){let f=[n.value_index,p.value_index];f.sort((y,k)=>y-k);const U={...h.product,attrIndexes:f};r("updateImage",U),r("variantSelected",!0)}})}},b=()=>{var i,c,a,t,n,p,h,x,f,U;if((i=e.item)!=null&&i.current_attributes){if(((c=e.item)==null?void 0:c.current_attributes.length)===0){(a=e.item.configurable_options)==null||a.forEach(y=>{y.values.forEach(k=>{k.state=d.Unchecked})}),r("variantSelected",!1);return}if(((t=e.item)==null?void 0:t.current_attributes.length)===1){const y=(n=e.item)==null?void 0:n.current_attributes[0];(p=e.item.configurable_options)==null||p.forEach(k=>{k.attribute_code===y.code&&k.values.forEach(V=>{if(V.value_index===y.value_index){V.state=d.Checked;return}V.state=d.Unchecked}),k.attribute_code!==y.code&&k.values.forEach(V=>{_.value.forEach(z=>{V.state=d.Inactive,z.value_index===V.value_index&&(V.state=d.Unchecked)})})}),r("variantSelected",!1);return}if(((h=e.item)==null?void 0:h.current_attributes.length)===2){const y=(x=e.item)==null?void 0:x.current_attributes[0].value_index,k=(f=e.item)==null?void 0:f.current_attributes[1].value_index;(U=e.item.configurable_options)==null||U.forEach(V=>{V.values.forEach(z=>{if(z.value_index===y||z.value_index===k){z.state=d.Checked;return}z.state=d.Hidden})}),o();return}}},C=()=>{var i,c,a,t;if((i=e.item)!=null&&i.current_attributes&&((c=e.item)==null?void 0:c.current_attributes.length)===1){const n=(a=e.item)==null?void 0:a.current_attributes[0],p=[];(t=e.item.variants)==null||t.forEach(h=>{const x=h.attributes.filter(f=>f.value_index!==n.value_index);x.length===1&&p.push(x[0])}),_.value=[...p]}else _.value=[];b()},D=(i,c)=>{var t;(t=e.item)!=null&&t.current_attributes||(e.item.current_attributes=[]);const a=e.item.current_attributes.findIndex(n=>n.code===i);if(a>=0){if(e.item.current_attributes[a].value_index===c){e.item.current_attributes=e.item.current_attributes.filter(n=>n.code!==i),C();return}e.item.current_attributes[a]={code:i,value_index:c}}else e.item.current_attributes.push({code:i,value_index:c});C()};return G(()=>{b()}),(i,c)=>(u(),g(B,null,[i.item.type==="configurable"?(u(),g("div",ce,[(u(!0),g(B,null,L(i.item.configurable_options,a=>(u(),g("div",le,[P("p",ue,S(a.label),1),(u(!0),g(B,null,L(a.values,t=>(u(),g("div",null,[P("div",{class:j(["var",{"var-checked":t.state===s(d).Checked,"var-unchecked":t.state===s(d).Unchecked,"var-inactive":t.state===s(d).Inactive,"var-hidden":t.state===s(d).Hidden,"var-inactive-line":t.state===s(d).Inactive}]),style:O({backgroundColor:a.attribute_code==="color"?t.value:"gray"}),onClick:n=>{t.state!==s(d).Inactive&&t.state!==s(d).Hidden&&D(a.attribute_code,t.value_index)}},[P("p",null,S(a.attribute_code!=="color"?t.label:""),1)],14,se)]))),256))]))),256))])):E("",!0),i.item.type!=="configurable"?(u(),g("div",oe)):E("",!0)],64))}});const _e=F(de,[["__scopeId","data-v-4697048c"]]),ve={class:"global-font-classic font-weight-bold text-h6 ms-1 mb-2"},me={class:"ms-1"},pe={class:"ms-1"},ge={key:0},fe={key:0},be=A({__name:"Card",props:{item:{},brandList:{}},setup(m){const r=m,e=N(),_=I(!1),o=I(r.item),b=I(r.item.type==="simple"),C=t=>(t=`https://raw.githubusercontent.com/fe-side/vue-test/master/assets${t}`,t),D=t=>{if(r.brandList){const n=r.brandList.find(p=>p.id===t);return n==null?void 0:n.title}return""},i=()=>{e.saveProduct(o.value)},c=t=>{b.value=t},a=t=>{o.value.image=t.image.slice(0,6)+"s"+t.image.slice(6),o.value.productFeature={...t}};return(t,n)=>{const p=ne,h=_e;return u(),g("div",null,[l(W,{"close-delay":"150"},{default:v(({isHovering:x,props:f})=>[l(q,J({width:"230",class:["mx-5 trans-it",x?" mt-5 mb-7":" mt-7 mb-5"],elevation:"3"},f),{default:v(()=>[l(H,{height:"230",src:"images/autumn-pumpkin-watercolor62.png",cover:""},{default:v(()=>[l(H,{src:C(s(o).image),style:{}},null,8,["src"])]),_:1}),l(K,{class:"pb-1"},{default:v(()=>[P("div",ve,S(s(o).title),1),P("div",me,S(D(s(o).brand)),1),P("div",pe,"$"+S(s(o).regular_price.value.toFixed(2)),1)]),_:1}),r.item.type!=="simple"?(u(),g("div",ge,[l(R,null,{default:v(()=>[s(_)?(u(),g("div",fe,[l(p,{onOnClickAct:i,productVariantSelected:s(b)},null,8,["productVariantSelected"]),l(h,{item:s(o),onUpdateImage:a,onVariantSelected:c},null,8,["item"])])):E("",!0)]),_:1}),l(Q),l(M,{class:"py-1"},{default:v(()=>[l(T,{onClick:n[0]||(n[0]=U=>_.value=!s(_))},{default:v(()=>[w(S(s(_)?"Свернуть":"Выберите опции"),1)]),_:1})]),_:1})])):(u(),$(p,{key:1,onOnClickAct:i,productVariantSelected:!0}))]),_:2},1040,["class"])]),_:1})])}}});const xe=F(be,[["__scopeId","data-v-5dc1fc7d"]]),ke=[{type:"simple",id:1,sku:"s1",title:"Product 1",regular_price:{currency:"USD",value:27.12},image:"/images/1.png",brand:9},{type:"configurable",id:2,sku:"c1",title:"Product 2",regular_price:{currency:"USD",value:54.21},image:"/images/conf/default.png",configurable_options:[{attribute_id:93,attribute_code:"color",label:"Color",values:[{label:"Red",value_index:931,value:"#ff0000"},{label:"Blue",value_index:932,value:"#0000ff"},{label:"Black",value_index:933,value:"#000"}]},{attribute_code:"size",attribute_id:144,position:0,id:2,label:"Size",values:[{label:"M",value_index:1441,value:1},{label:"L",value_index:1442,value:2}]}],variants:[{attributes:[{code:"color",value_index:931},{code:"size",value_index:1441}],product:{id:2001,sku:"c1-red-m",image:"/image/conf/red.png"}},{attributes:[{code:"color",value_index:931},{code:"size",value_index:1442}],product:{id:2002,sku:"c1-red-l",image:"/image/conf/red.png"}},{attributes:[{code:"color",value_index:932},{code:"size",value_index:1441}],product:{id:2003,sku:"c1-blue-m",image:"/image/conf/blue.png"}},{attributes:[{code:"color",value_index:933},{code:"size",value_index:1442}],product:{id:2004,sku:"c1-black-l",image:"/image/conf/black.png"}}],brand:1},{type:"simple",id:3,sku:"s2",title:"Product 3",regular_price:{currency:"USD",value:36.87},image:"/images/2.png",brand:8},{type:"simple",id:4,sku:"s3",title:"Product 4",regular_price:{currency:"USD",value:28.91},image:"/images/3.png",brand:2},{type:"simple",id:5,sku:"s4",title:"Product 5",regular_price:{currency:"USD",value:41.23},image:"/images/4.png",brand:7},{type:"simple",id:6,sku:"s5",title:"Product 6",regular_price:{currency:"USD",value:88},image:"/images/5.png",brand:3},{type:"simple",id:7,sku:"s6",title:"Product 7",regular_price:{currency:"USD",value:127.41},image:"/images/6.png",brand:6},{type:"configurable",id:8,sku:"c2",title:"Product 8",regular_price:{currency:"USD",value:63.27},image:"/images/conf/default.png",configurable_options:[{attribute_id:93,attribute_code:"color",label:"Color",values:[{label:"Red",value_index:931,value:"#ff0000"},{label:"Blue",value_index:932,value:"#0000ff"},{label:"Black",value_index:933,value:"#000"}]},{attribute_code:"size",attribute_id:144,position:0,id:2,label:"Size",values:[{label:"M",value_index:1441,value:1},{label:"L",value_index:1442,value:2}]}],variants:[{attributes:[{code:"color",value_index:931},{code:"size",value_index:1441}],product:{id:8001,sku:"c2-red-m",image:"/image/conf/red.png"}},{attributes:[{code:"color",value_index:931},{code:"size",value_index:1442}],product:{id:8002,sku:"c2-red-l",image:"/image/conf/red.png"}},{attributes:[{code:"color",value_index:932},{code:"size",value_index:1441}],product:{id:8003,sku:"c2-blue-m",image:"/image/conf/blue.png"}},{attributes:[{code:"color",value_index:933},{code:"size",value_index:1442}],product:{id:8004,sku:"c2-black-l",image:"/image/conf/black.png"}}],brand:4},{type:"simple",id:9,sku:"s7",title:"Product 9",regular_price:{currency:"USD",value:123.4},image:"/images/7.png",brand:5},{type:"configurable",id:10,sku:"c3",title:"Product 10",regular_price:{currency:"USD",value:68.273},image:"/images/conf/default.png",configurable_options:[{attribute_id:93,attribute_code:"color",label:"Color",values:[{label:"Red",value_index:931,value:"#ff0000"},{label:"Blue",value_index:932,value:"#0000ff"},{label:"Black",value_index:933,value:"#000"}]},{attribute_code:"size",attribute_id:144,position:0,id:2,label:"Size",values:[{label:"M",value_index:1441,value:1},{label:"L",value_index:1442,value:2}]}],variants:[{attributes:[{code:"color",value_index:931},{code:"size",value_index:1441}],product:{id:10001,sku:"c10-red-m",image:"/image/conf/red.png"}},{attributes:[{code:"color",value_index:931},{code:"size",value_index:1442}],product:{id:10002,sku:"c10-red-l",image:"/image/conf/red.png"}},{attributes:[{code:"color",value_index:932},{code:"size",value_index:1441}],product:{id:10003,sku:"c10-blue-m",image:"/image/conf/blue.png"}},{attributes:[{code:"color",value_index:933},{code:"size",value_index:1442}],product:{id:10004,sku:"c10-black-l",image:"/image/conf/black.png"}}],brand:3},{type:"simple",id:11,sku:"s8",title:"Product 11",regular_price:{currency:"USD",value:92.32},image:"/images/8.png",brand:1},{type:"simple",id:12,sku:"s9",title:"Product 12",regular_price:{currency:"USD",value:53.4},image:"/images/9.png",brand:2}],he={key:0,class:"empty-list"},ye=A({__name:"List",setup(m){const r=I(null),e=I(ke),_=I(re),o=N(),{currentBrand:b}=X(o);return Y(()=>{if(b.value){if(e.value&&b.value===-1){r.value=[...e.value];return}e.value&&(r.value=e.value.filter(C=>C.brand==b.value))}else e.value&&(r.value=[...e.value])}),(C,D)=>{var c;const i=xe;return u(),g(B,null,[l(ae,null,{default:v(()=>[l(Z,null,{default:v(()=>[l(ee,{name:"list"},{default:v(()=>[(u(!0),g(B,null,L(r.value,a=>(u(),$(te,{class:"d-flex justify-start align-center flex-column",key:a.id,cols:"12",sm:"12",md:"6",lg:"3",xl:"2"},{default:v(()=>[l(i,{item:a,"brand-list":_.value?_.value:null},null,8,["item","brand-list"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),((c=r.value)==null?void 0:c.length)===0?(u(),g("h3",he,"Товары отсутствуют")):E("",!0)],64)}}});const Ve=F(ye,[["__scopeId","data-v-984af667"]]),Ie=A({__name:"index",setup(m){return(r,e)=>{const _=Ve;return u(),$(ie,{class:"d-flex justify-center align-center pl-sm-none",style:{"min-height":"300px"}},{default:v(()=>[l(_)]),_:1})}}});export{Ie as default};
