import{f as $,o as r,g as F,V as W,_ as C,r as x,h as P,i as q,j as T,k as S,l as D,c as _,a as e,t as u,b as m,m as c,n as G,d as R,F as L,p as N,e as E,s as B,q as g,w as M,v as z,T as H,x as J}from"./entry.703f6998.js";import{u as j,s as K}from"./brands.a4f5ad4c.js";const O=$({__name:"TrashIcon",emits:["clickBtn"],setup(o,{emit:s}){return(a,i)=>(r(),F(W,{icon:"mdi-trash-can-outline",onClick:i[0]||(i[0]=p=>s("clickBtn"))}))}});const Q=C(O,[["__scopeId","data-v-8ba5fa25"]]),A=o=>(N("data-v-93f9a549"),o=o(),E(),o),X={class:"one-product"},Y={class:"product__img-contnr"},Z=["src"],tt={style:{width:"100%"}},et={class:"global-font-classic font-weight-bold text-subtitle-1"},st={class:"global-font-classic text-caption"},nt={class:"global-font-classic text-caption"},ot={class:"active-min global-font-classic text-subtitle-1"},at={style:{"text-align":"right"},class:"active-min"},ct={class:"product__descr"},it={class:"active-max global-font-classic text-subtitle-1"},lt={class:"global-font-classic font-weight-bold text-subtitle-1"},rt=A(()=>e("span",{class:"active-min"},"Всего:",-1)),dt={class:"active-max"},ut=A(()=>e("div",{class:"under-product"},null,-1)),_t=$({__name:"ProductCard",props:{item:{},brands:{}},setup(o){const s=o,a=j(),i=x(""),p=x(""),f=P({number:s.item.count}),v=t=>{var d;const n=(d=s.brands)==null?void 0:d.find(l=>l.id===t);return n?n.title:""},y=t=>{var n;if(t!=null&&t.productFeature){let d="",l="";(n=t.configurable_options)==null||n.forEach(V=>{const k=V.label;V.values.forEach(b=>{var w,I;b.value_index===((w=t.productFeature)==null?void 0:w.attrIndexes[0])&&(d=`${k}: ${b.label}`),b.value_index===((I=t.productFeature)==null?void 0:I.attrIndexes[1])&&(l=`${k}: ${b.label}`)})}),i.value=d,p.value=l}};q(()=>{}),T(s,t=>{s.item.count=Math.ceil(s.item.count),s.item.count<1&&(s.item.count=1),s.item.count>999&&(s.item.count=999),S.to(f,{duration:.5,number:Number(t.item.count)||0})},{deep:!0}),D(()=>{y(s.item)});const h=t=>(t=`https://raw.githubusercontent.com/fe-side/vue-test/master/assets${t}`,t);return(t,n)=>{const d=Q;return r(),_(L,null,[e("div",X,[e("div",Y,[e("img",{class:"product__one-img",src:h(t.item.image),alt:"product preview"},null,8,Z),e("div",tt,[e("div",null,[e("p",et,u(v(t.item.brand))+" / "+u(t.item.title),1),e("p",st,u(i.value),1),e("p",nt,u(p.value),1)]),e("p",ot," $"+u(t.item.regular_price.value.toFixed(2)),1),e("div",at,[m(d,{onClickBtn:n[0]||(n[0]=l=>c(a).deleteCartProduct(t.item))})])])]),e("div",ct,[e("p",it," $"+u(t.item.regular_price.value.toFixed(2)),1),e("div",null,[m(G,{min:"1",max:"999",type:"number",name:"input-10-2",label:"Кол-во",variant:"outlined",modelValue:t.item.count,"onUpdate:modelValue":n[1]||(n[1]=l=>t.item.count=l),"hide-details":"",onChange:n[2]||(n[2]=l=>c(a).updateProductCount(t.item))},null,8,["modelValue"])]),e("p",lt,[rt,R(" $"+u((t.item.regular_price.value*c(f).number).toFixed(2)),1)]),e("div",dt,[m(d,{onClickBtn:n[3]||(n[3]=l=>c(a).deleteCartProduct(t.item))})])])]),ut],64)}}});const pt=C(_t,[["__scopeId","data-v-93f9a549"]]),U=o=>(N("data-v-abf65925"),o=o(),E(),o),mt={key:0,class:"product-contnr active-max"},ft=U(()=>e("div",{class:"one-product",style:{height:"60px",fontWeight:"bold"}},[e("div"),e("div",{class:"product__descr"},[e("p",null,"Цена"),e("p",null,"Кол-во"),e("p",null,"Всего")])],-1)),vt=U(()=>e("div",{class:"under-product"},null,-1)),bt=[ft,vt],ht={key:1,class:"total-cost"},gt={key:2,class:"empty-cart-msg"},xt=$({__name:"ProductList",setup(o){const s=x(K),a=j(),{storageProduct:i}=B(a),{finalCost:p}=B(a),f=P({number:p.value});return T(p,v=>{S.to(f,{duration:.5,number:Number(v)||0})}),(v,y)=>{const h=pt;return r(),_("div",null,[c(a).finalCost>0?(r(),_("div",mt,bt)):g("",!0),m(H,{name:"list"},{default:M(()=>[(r(!0),_(L,null,z(c(i),t=>(r(),_("div",{class:"product-contnr",key:t.id},[m(h,{item:t,brands:c(s)?c(s):null},null,8,["item","brands"])]))),128))]),_:1}),c(a).finalCost>0?(r(),_("h2",ht," Итог: $"+u(c(f).number.toFixed(2)),1)):g("",!0),c(a).finalCost===0?(r(),_("h2",gt,"Корзина пуста")):g("",!0)])}}});const $t=C(xt,[["__scopeId","data-v-abf65925"]]),Vt={__name:"cart",setup(o){return(s,a)=>{const i=$t;return r(),F(J,{class:"d-flex justify-center align-center pl-sm-none",style:{"min-height":"300px"}},{default:M(()=>[m(i)]),_:1})}}};export{Vt as default};
