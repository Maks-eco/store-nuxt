import{f as k,g as b,r as v,s as g,h as x,o as i,c as d,a as s,F as y,i as C,n as L,t as h,p as $,e as I,_ as p,j as S,k as j,b as m}from"./entry.ad48c2fc.js";const B=k("store_items",{state:()=>({count:11,name:"Test value",currentBrand:null}),actions:{async getProducts(){return await fetch("products.json").then(e=>e.json()).then(e=>e)},async getCategories(){return await fetch("brands.json").then(e=>e.json()).then(e=>e)}}}),P=e=>($("data-v-2b4f2322"),e=e(),I(),e),w={class:"container"},E={class:"list"},D=P(()=>s("h2",{class:"header"},"Категории:",-1)),F=["onClick"],N={class:"title"},R=P(()=>s("hr",null,null,-1)),T=b({__name:"CategoryList",setup(e){const n={id:-1,title:"All brands",code:"brand_all",sort:"0",active:!1},t=v(null),a=B(),{currentBrand:c}=g(a);v(!1);const l=_=>{var o,f;c.value=_;const r=(o=t.value)==null?void 0:o.findIndex(u=>u.id===_);(f=t.value)==null||f.forEach(u=>(u.active=!1,u)),typeof r<"u"&&t.value&&(t.value[r].active=!0)};return x(()=>{a.getCategories().then(_=>{_=_.map(r=>(r.active=!1,r)),t.value=[n,..._]})}),(_,r)=>(i(),d("div",w,[s("div",E,[D,(i(!0),d(y,null,C(t.value,o=>(i(),d("div",{class:L([{"brand-active":o.active},"brand"]),key:o.id,onClick:f=>l(o.id)},[s("p",N,h(o.title),1)],10,F))),128))]),R]))}});const V=p(T,[["__scopeId","data-v-2b4f2322"]]),z=e=>($("data-v-5d5deb5a"),e=e(),I(),e),A={class:"container-item"},M=["src"],U={class:"description"},q={class:"title"},G={class:"price"},H=z(()=>s("div",{class:"btn-con"},[s("button",{class:"button"},"Добавить в корзину")],-1)),J=b({__name:"ProductCard",props:{item:{}},setup(e){const n=e,t=S(),a=c=>t.public.apiBase+c;return(c,l)=>(i(),d("div",A,[s("img",{class:"image",src:a(n.item.image),alt:""},null,8,M),s("div",U,[s("div",q,h(n.item.title),1),s("div",G,h(n.item.regular_price.value),1)]),H]))}});const K=p(J,[["__scopeId","data-v-5d5deb5a"]]),O={class:"container"},Q=b({__name:"ProductList",setup(e){const n=v(null),t=v(null),a=B(),{currentBrand:c}=g(a);return j(()=>{if(c.value){if(t.value&&c.value===-1){n.value=[...t.value];return}t.value&&(n.value=t.value.filter(l=>l.brand==c.value))}else t.value&&(n.value=[...t.value])}),x(()=>{a.getProducts().then(l=>{t.value=[...l]})}),(l,_)=>{const r=K;return i(),d("div",O,[(i(!0),d(y,null,C(n.value,o=>(i(),d("div",{key:o.id},[s("div",null,[m(r,{item:o},null,8,["item"])])]))),128))])}}});const W=p(Q,[["__scopeId","data-v-3428bf17"]]);const X={},Y={class:"container"},Z={class:"sidebar"},ee={class:"content"};function te(e,n){const t=V,a=W;return i(),d("div",Y,[s("div",Z,[m(t)]),s("div",ee,[m(a)])])}const ne=p(X,[["render",te],["__scopeId","data-v-ebbaf9d2"]]);export{ne as default};
