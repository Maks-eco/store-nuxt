import{u as $}from"./counter.c291a7ce.js";import{f as x,r as v,s as k,h as y,o as r,c as _,a as s,F as C,k as I,n as g,m as P,t as f,p as B,e as S,_ as m,i as w,g as E,j as F,b}from"./entry.990abb52.js";import{b as N}from"./index.00dd2f7f.js";const L=d=>(B("data-v-85832515"),d=d(),S(),d),V={class:"list"},D=L(()=>s("h2",{class:"header"},"Категории:",-1)),M=["onClick"],U={class:"title"},j=L(()=>s("hr",{class:"hr"},null,-1)),z=x({__name:"CategoryList",setup(d){const n={id:-1,title:"Все бренды",code:"brand_all",sort:"0",active:!1},e=v(null),i=$(),{currentBrand:u}=k(i);v(!1);const o=v(!1),l=a=>{var c,h;o.value=!1,u.value=a;const t=(c=e.value)==null?void 0:c.findIndex(p=>p.id===a);(h=e.value)==null||h.forEach(p=>(p.active=!1,p)),typeof t<"u"&&e.value&&(e.value[t].active=!0)};return y(()=>{i.getCategories().then(a=>{e.value=[n,...a],e.value=e.value.map(t=>(t.active=u.value===t.id,t))})}),(a,t)=>(r(),_("div",{class:g([{backgrd:o.value}]),onClick:t[2]||(t[2]=c=>o.value=!1)},[s("div",{class:g([{"container-inactive":!o.value},"container"]),onClick:t[1]||(t[1]=P(()=>{},["stop"]))},[s("div",V,[D,(r(!0),_(C,null,I(e.value,c=>(r(),_("div",{class:g([{"brand-active":c.active},"brand"]),key:c.id,onClick:h=>l(c.id)},[s("p",U,f(c.title),1)],10,M))),128))]),j,s("button",{class:"hide-categories",onClick:t[0]||(t[0]=c=>o.value=!o.value)}," Категории ")],2)],2))}});const R=m(z,[["__scopeId","data-v-85832515"]]),T={class:"container-item"},q=["src"],A={class:"description"},G={class:"title"},H={class:"brand-title"},J={class:"price"},K={class:"btn-con"},O=x({__name:"ProductCard",props:{item:{}},setup(d){const n=d,e=$(),i=v(null),u=l=>N.slice(0,-1)+l,o=l=>{if(i.value){const a=i.value.find(t=>t.id===l);return a==null?void 0:a.title}return""};return y(()=>{e.getCategories().then(l=>{i.value=[...l]})}),(l,a)=>(r(),_("div",T,[s("img",{class:"image",src:u(n.item.image),alt:""},null,8,q),s("div",A,[s("div",G,f(n.item.title),1),s("div",H,f(o(n.item.brand)),1),s("div",J,"$"+f(n.item.regular_price.value.toFixed(2)),1)]),s("div",K,[s("button",{class:"button",onClick:a[0]||(a[0]=t=>w(e).saveProduct(n.item))}," Добавить в корзину ")])]))}});const Q=m(O,[["__scopeId","data-v-3b7d1628"]]),W={class:"container"},X={key:0,class:"empty-list"},Y=x({__name:"ProductList",setup(d){const n=v(null),e=v(null),i=$(),{currentBrand:u}=k(i);return E(()=>{if(u.value){if(e.value&&u.value===-1){n.value=[...e.value];return}e.value&&(n.value=e.value.filter(o=>o.brand==u.value))}else e.value&&(n.value=[...e.value])}),y(()=>{i.getProducts().then(o=>{e.value=[...o]})}),(o,l)=>{var t;const a=Q;return r(),_(C,null,[s("div",W,[(r(!0),_(C,null,I(n.value,c=>(r(),_("div",{key:c.id},[s("div",null,[b(a,{item:c},null,8,["item"])])]))),128))]),((t=n.value)==null?void 0:t.length)===0?(r(),_("h3",X,"Товары отсутствуют")):F("",!0)],64)}}});const Z=m(Y,[["__scopeId","data-v-f83c1c13"]]);const ee={},te={class:"container"},se={class:"sidebar"},ne={class:"content"};function ae(d,n){const e=R,i=Z;return r(),_("div",te,[s("div",se,[b(e)]),s("div",ne,[b(i)])])}const le=m(ee,[["render",ae],["__scopeId","data-v-b9a5d029"]]);export{le as default};
